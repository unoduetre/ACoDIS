<!DOCTYPE html>
<html lang="pl"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
  xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:cc="http://xmlns.jcp.org/jsf/composite"
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
  xmlns:pf="http://primefaces.org/ui">
  <h:body>
    <ui:composition template="/template.xhtml">
      <ui:define name="title">Wiki Edytor</ui:define>
      
      <style>
        .inputForm {
          margin: 10px;
        }
        
        .inputLabel {
          margin: 0px;
          padding: 0px;
          
          margin-top: 5px;
          margin-bottom: 5px;
        }
        
        .ui-messages {
          font-size: 10px;
        }
        
        .inputHr {
          width: 100%;
          margin: 0px;
          padding: 0px;
        }
        
        .inputTitle {
          width: 100%;
          margin: 0px;
          padding: 0px;
        }
        
        .inputCategories {
          width: 100%;
          margin: 0px;
          padding: 0px;
        }
        
        .inputEditor {
          width: 100%;
          margin: 0px;
          padding: 0px;
        }
        
        .divButtons {
          width: 100%;
          margin: 0px;
          padding: 0px;
          text-align: right;
        }
        
        .inputButton {
          font-size: 10px;
        }
      </style>
      
      <h:form styleClass="inputForm">
        <pf:messages id="messages" showDetail="false" autoUpdate="true" closable="true" />
        
        <p class="inputLabel">Tytuł:</p>
        <pf:inputText styleClass="inputTitle" required="true" label="Tytuł" value="#{wikiEditorBean.title}"
                      validatorMessage="Tytuł może się składać tylko z liter cyfr oraz znaków spacji!"
                      requiredMessage="Tytuł jest wymagany!" >
          <f:validateRegex pattern="^([a-zA-Z0-9]| )+$" />
        </pf:inputText>
        
        <p class="inputLabel">Kategoria:</p>
        <pf:selectOneMenu styleClass="inputCategories" id="category" value="#{wikiEditorBean.category}">
          <f:selectItem itemLabel="Wybierz kategorię" itemValue="" />
          <f:selectItems value="#{wikiEditorBean.categories}" />
        </pf:selectOneMenu>
        
        <hr styleClass="inputHr"/>
        <pf:editor styleClass="inputEditor" value="#{wikiEditorBean.editorValue}"/>
        
        <hr styleClass="inputHr"/>
        <div class="divButtons">
          <pf:commandButton id="buttonCancel" styleClass="inputButton" value="Anuluj" immediate="true" />
          <pf:commandButton id="buttonSave" styleClass="inputButton" value="Zapisz" actionListener="#{wikiEditorBean.saveFile}" />
          <pf:commandButton id="buttonSaveAndFinish" styleClass="inputButton" value="Zapisz i Zakończ" actionListener="#{wikiEditorBean.saveFile}" action="index"/>
        </div>
      </h:form>
    </ui:composition>
  </h:body>
</html>

